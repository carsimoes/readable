(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{118:function(e,t,n){},152:function(e,t,n){e.exports=n(313)},162:function(e,t,n){},289:function(e,t,n){},313:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(28),i=n.n(o),l=(n(99),n(16)),c=n(17),s=n(19),u=n(18),m=n(20),p=n(22),h=n(31),d=n(42),f=n(21),E=n.n(f),g=(n(162),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{id:"notfound"},r.a.createElement("div",{class:"notfound"},r.a.createElement("div",{class:"notfound-404"},r.a.createElement("h1",null,"Oops!")),r.a.createElement(E.a,{variant:"h2",gutterBottom:!0,style:{marginTop:"40px"}},"404 - Page not found"),r.a.createElement(E.a,{variant:"p",gutterBottom:!0},"The page you are looking for might have been removed had its name changed or is temporarily unavailable.")))}}]),t}(a.PureComponent)),v=n(29),b=n.n(v),y=function(e){return fetch("http://localhost:3001/posts/".concat(e,"/comments"),{headers:{Authorization:"whatever-you-want"}}).then(function(e){return e.json()}).then(function(e){return e})},C="ADD_POST",O="RECEIVE_POSTS",j="GET_POST",S="VOTE",w="DELETE_POST",T="EDIT_POST",N="GET_POSTS_BY_CATEGORY",D=function(e,t){return{type:t,posts:e}},A=function(e){return function(t){return function(e){return fetch("http://localhost:3001/posts/".concat(e),{headers:{Authorization:"whatever-you-want"}}).then(function(e){return e.json()})}(e).then(function(e){return y(e.id).then(function(t){return e.comments=t}).then(function(){return e})}).then(function(e){return t(D(e,j))})}},k=function(){return function(e){return fetch("http://localhost:3001/posts",{headers:{Authorization:"whatever-you-want"}}).then(function(e){return e.json()}).then(function(e){return Promise.all(e.map(function(e){return y(e.id).then(function(t){return e.comments=t}).then(function(){return e})}))}).then(function(t){return e(D(t,O))})}},x=function(e,t){return function(n){return function(e,t){return fetch("http://localhost:3001/posts/".concat(e),{method:"POST",headers:{Authorization:"whatever-you-want","Content-Type":"application/json"},body:JSON.stringify({option:t})}).then(function(e){return e.json()})}(e,t).then(function(e){return y(e.id).then(function(t){return e.comments=t}).then(function(){return e})}).then(function(e){return n(D(e,S))})}},_=function(e){return function(t){return function(e){return fetch("http://localhost:3001/posts/".concat(e),{method:"DELETE",headers:{Authorization:"whatever-you-want"}}).then(function(e){return e.json()})}(e).then(function(e){return y(e.id).then(function(t){return e.comments=t}).then(function(){return e})}).then(function(e){return t(D(e,w))})}},B=function(e){return function(t){return function(e){return fetch("http://localhost:3001/posts",{method:"POST",headers:{Authorization:"whatever-you-want","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}(e).then(function(e){return y(e.id).then(function(t){return e.comments=t}).then(function(){return e})}).then(function(e){return t(D(e,C))})}},I=function(e,t){return function(n){return function(e,t){return fetch("http://localhost:3001/posts/".concat(t),{method:"PUT",headers:{Authorization:"whatever-you-want","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}(e,t).then(function(e){return y(e.id).then(function(t){return e.comments=t}).then(function(){return e})}).then(function(e){return n(D(e,T))})}},P="SET_SORTING",V=function(e){return{type:P,sortBy:e}},L=function(){return fetch("http://localhost:3001/categories",{headers:{Authorization:"whatever-you-want"}}).then(function(e){return e.json()}).then(function(e){return e.categories})},R="RECEIVE_CATEGORIES",M=function(){return function(e){return L().then(function(t){return e(W(t))})}},W=function(e){return{type:R,categories:e}},F=n(67),Y=n.n(F),q=n(24),z=n(89),H=n.n(z),G=n(140),J=n.n(G),U=n(68),K=n.n(U),Q=n(69),X=n.n(Q),Z=n(141),$=n.n(Z),ee=n(23),te=n.n(ee),ne=n(52),ae=n.n(ne),re=n(51),oe=n.n(re),ie=n(53),le=n.n(ie),ce=n(70),se=n.n(ce),ue=n(142),me=n.n(ue),pe=n(143),he=n.n(pe),de=n(71),fe=n.n(de),Ee=n(73),ge=n.n(Ee),ve=n(72),be=n.n(ve),ye=n(26),Ce=n.n(ye),Oe=n(50),je=n.n(Oe),Se=n(34),we=n.n(Se),Te=n(90),Ne=n.n(Te),De=n(63),Ae=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchData()}},{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",null,r.a.createElement("div",{className:e.root},r.a.createElement(je.a,{className:e.paper},r.a.createElement(Ne.a,null,r.a.createElement(h.b,{to:"/"},r.a.createElement(we.a,null,"All")),this.props.categories&&this.props.categories.length>0&&this.props.categories.map(function(e){return r.a.createElement(h.b,{key:De(),to:"/".concat(e.name)},r.a.createElement(we.a,{key:e.path},e.name))})))))}}]),t}(a.Component),ke=b()(Object(q.withStyles)(function(e){return{root:{display:"flex",float:"right"},paper:{marginRight:2*e.spacing.unit}}}),Object(p.connect)(function(e){return{categories:e.receiveCategories}},function(e){return{dispatch:e,fetchData:function(){return e(M())}}}))(Ae),xe=(n(118),n(63)),_e=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={openDialogConfirmDelete:!1,postIdToDelete:""},n.submitVote=function(e,t){n.props.dispatch(x(e,t))},n.deletePost=function(e){n.props.dispatch(_(e))},n.handleClickOpenConfirmation=function(e){n.setState({openDialogConfirmDelete:!0}),n.setState({postIdToDelete:e})},n.handleCloseConfirmationDelete=function(e){"Yes"===e.target.textContent&&n.deletePost(n.state.postIdToDelete),n.setState({openDialogConfirmDelete:!1})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchData("BY_SCORE_HIGHEST"),this.props.fetchDataCategories()}},{key:"render",value:function(){var e=this,t=this.props.classes,n=this.props.posts,a=this.props.location.pathname.substring(1);""!==a&&(n=[],n=Object.values(this.props.posts).filter(function(e){return e.category===a}));var o=this.props.location.pathname.replace("/","");if(""!==o&&this.props.categories&&!(void 0!==this.props.categories.find(function(e){return e.name===o.toLowerCase()})))return r.a.createElement(g,null);return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"b1"},r.a.createElement("div",{className:"main-container"},r.a.createElement("div",{className:"second-container share"},r.a.createElement("h2",null,r.a.createElement("span",null,"R"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"d"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"b"),r.a.createElement("span",null,"l"),r.a.createElement("span",null,"e"))),r.a.createElement("div",{className:"first-container share"},r.a.createElement("h1",null,r.a.createElement("span",{id:"one"},"W"),r.a.createElement("span",null,"h"),r.a.createElement("span",null,"e"),r.a.createElement("span",null,"n")," ",r.a.createElement("span",null,"W"),r.a.createElement("span",null,"e")," ",r.a.createElement("span",null,"T"),r.a.createElement("span",null,"a"),r.a.createElement("span",null,"l"),r.a.createElement("span",null,"k"))),r.a.createElement("div",{className:"second-container share"},r.a.createElement("h1",null,r.a.createElement("span",null,"W"),r.a.createElement("span",null,"e")," ",r.a.createElement("span",null,"M"),r.a.createElement("span",null,"o"),r.a.createElement("span",null,"v"),r.a.createElement("span",null,"e"))))),r.a.createElement("div",{className:"b2"},n&&Object.values(n).filter(function(e){return!e.deleted}).filter(function(e){return e.title}).sort(function(t,n){switch(e.props.sortBy){case"BY_SCORE_LOWEST":return t.voteScore-n.voteScore;case"BY_DATE_OLDEST":return t.timestamp-n.timestamp;case"BY_DATE_NEWEST":return n.timestamp-t.timestamp;default:return n.voteScore-t.voteScore}}).map(function(n){return r.a.createElement("div",{className:"card",key:xe()},r.a.createElement(Y.a,{className:t.card},r.a.createElement(J.a,{avatar:r.a.createElement($.a,{"aria-label":"Recipe",className:t.avatar},n.category&&n.category.charAt(0).toUpperCase()+n.category.charAt(1)),action:r.a.createElement(te.a,null),title:n.title,subheader:n.category}),r.a.createElement(K.a,null,r.a.createElement(E.a,{component:"p"},"Author: ",n.author),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(X.a,{className:t.actions,disableActionSpacing:!0},n.voteScore,r.a.createElement("div",{onClick:function(){return e.submitVote(n.id,"upVote")}},r.a.createElement(te.a,{"aria-label":"Love this"},r.a.createElement(oe.a,null))),r.a.createElement("div",{onClick:function(){return e.submitVote(n.id,"downVote")}},r.a.createElement(te.a,{"aria-label":"Hate this"},r.a.createElement(ae.a,null))),r.a.createElement(h.b,{to:{pathname:"/".concat(n.category,"/").concat(n.id),state:{postEditorVisible:!0}},style:{marginLeft:25}},r.a.createElement(me.a,{color:"primary",badgeContent:n.comments&&n.comments.length,className:t.margin},r.a.createElement(he.a,null))),r.a.createElement(h.b,{to:{pathname:"/".concat(n.category,"/").concat(n.id),state:{postEditorVisible:!0}},style:{marginLeft:25}},r.a.createElement(te.a,{"aria-label":"Edit"},r.a.createElement(se.a,null))),r.a.createElement("div",{onClick:function(){return e.handleClickOpenConfirmation(n.id)},style:{marginLeft:0}},r.a.createElement(te.a,{"aria-label":"Delete"},r.a.createElement(le.a,null))))),r.a.createElement("br",null))})),r.a.createElement("div",{className:"b3"},r.a.createElement(ke,{sortBy:this.props.sortBy})),r.a.createElement(fe.a,{open:this.state.openDialogConfirmDelete,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(be.a,{id:"alert-dialog-title"},"Delete this post?"),r.a.createElement(ge.a,null,r.a.createElement(Ce.a,{id:"delete-no",onClick:this.handleCloseConfirmationDelete,color:"primary"},"No"),r.a.createElement(Ce.a,{id:"delete-yes",onClick:this.handleCloseConfirmationDelete,color:"primary",autoFocus:!0},"Yes"))))}}]),t}(a.Component),Be=b()(Object(q.withStyles)(function(e){return{card:{maxWidth:425},media:{height:0,paddingTop:"56.25%"},actions:{display:"flex"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},avatar:{backgroundColor:H.a[500]},root:{flexGrow:1},paperLeft:{height:100,width:350},paperMiddle:{height:100,width:350},paperRight:{height:100,width:350,float:"right",position:"static"},control:{padding:2*e.spacing.unit},padding:{padding:"0 ".concat(1*e.spacing.unit,"px")}}}),Object(p.connect)(function(e){return{posts:e.postsById,sortBy:e.setSorting?e.setSorting.sort:"",categories:e.receiveCategories}},function(e){return{dispatch:e,fetchData:function(t){return e(k()).then(function(){return e(V(t))})},fetchDataCategories:function(){return e(M())}}}))(_e),Ie=n(144),Pe=n.n(Ie),Ve=n(145),Le=n.n(Ve),Re=n(147),Me=n.n(Re),We=n(146),Fe=n.n(We),Ye=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null},n.handleClick=function(e){n.setState({anchorEl:e.currentTarget})},n.handleClose=function(){n.setState({anchorEl:null})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=this.state.anchorEl,n=Boolean(t);return r.a.createElement("div",{className:e.root},r.a.createElement(Pe.a,{position:"static",className:e.AppBarNew},r.a.createElement(Le.a,{className:"AppBarNewToolBar"},r.a.createElement("div",null,r.a.createElement(te.a,{"aria-label":"More","aria-owns":n?"long-menu":void 0,"aria-haspopup":"true",onClick:this.handleClick},r.a.createElement(Fe.a,null)),r.a.createElement(Me.a,{id:"long-menu",anchorEl:t,open:n,onClose:this.handleClose,PaperProps:{style:{maxHeight:216,width:200}}},r.a.createElement(we.a,{key:"home",onClick:this.handleClose},r.a.createElement(h.b,{to:"/"},"Home")),r.a.createElement(h.b,{to:"/create-post"},r.a.createElement(we.a,{key:"createPost",onClick:this.handleClose},"Create a new post")),r.a.createElement(h.b,{to:"/trending-now"},r.a.createElement(we.a,{key:"createPost",onClick:this.handleClose},"Trending Now")))))),r.a.createElement("br",null))}}]),t}(r.a.Component),qe=Object(q.withStyles)({root:{flexGrow:1},newPost:{marginLeft:100},AppBarNew:{backgroundColor:"rgba(74, 78, 73, 0.87)",minHeight:"35px"},AppBarNewTitle:{color:"white !important"}})(Ye),ze=(n(289),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"footerMaster"},r.a.createElement("div",{className:"footer"},"Readable - Udacity"))}}]),t}(a.PureComponent)),He=n(41),Ge="ADD_COMMENT",Je="RECEIVE_COMMENTS",Ue="COMMENT_VOTE",Ke="DELETE_COMMENT",Qe="SET_COMMENT_SORTING",Xe=function(e,t){return{type:t,comments:e}},Ze=function(e,t){return function(n){return function(e,t){return fetch("http://localhost:3001/comments/".concat(e),{method:"POST",headers:{Authorization:"whatever-you-want","Content-Type":"application/json"},body:JSON.stringify({option:t})}).then(function(e){return e.json()})}(e,t).then(function(e){return n(Xe(e,Ue))})}},$e=function(e){return function(t){return function(e){return fetch("http://localhost:3001/comments/".concat(e),{method:"DELETE",headers:{Authorization:"whatever-you-want"}}).then(function(e){return e.json()})}(e).then(function(e){return t(Xe(e,Ke))})}},et=function(e){return function(t){return function(e){return fetch("http://localhost:3001/comments",{method:"POST",headers:{Authorization:"whatever-you-want","Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){return e.json()})}(e).then(function(e){return t(Xe(e,Ge))})}},tt=n(27),nt=n.n(tt),at=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={commentAuthor:"",commentContent:"",showEditor:!1},n.submitVote=function(e,t){n.props.dispatch(Ze(e,t))},n.handleDelete=function(e){n.props.dispatch($e(e))},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(He.a)({},r,a))},n.handleEditSubmit=function(e){e.preventDefault();var t={id:n.props.id,timestamp:n.props.timestamp,body:n.state.commentContent,author:n.state.commentAuthor,parentId:n.props.parentId,voteScore:n.props.voteScore,deleted:n.props.deleted,parentDeleted:!1};n.props.dispatch(et(t))},n.beginEdit=function(){n.setState({showEditor:!0})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({commentAuthor:this.props.author,commentContent:this.props.body})}},{key:"render",value:function(){var e=this,t=this.props.classes;return r.a.createElement("div",null,r.a.createElement(Y.a,{className:t.card},r.a.createElement(K.a,null,r.a.createElement("div",{key:this.props.id},r.a.createElement(E.a,{className:t.title,color:"textSecondary",gutterBottom:!0},"By: ",this.props.author),r.a.createElement(E.a,{className:t.pos,color:"textSecondary"},new Date(this.props.timestamp).toDateString()),r.a.createElement(E.a,{component:"p"},this.props.body," ",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(X.a,null,r.a.createElement(te.a,{"aria-label":"Edit",onClick:this.beginEdit},r.a.createElement(se.a,null)),r.a.createElement("div",{onClick:function(){return e.handleDelete(e.props.id)}},r.a.createElement(te.a,{"aria-label":"Delete"},r.a.createElement(le.a,null))),r.a.createElement("div",null,this.props.voteScore," ",r.a.createElement(te.a,{"aria-label":"Love this",onClick:function(){return e.submitVote(e.props.id,"upVote")}},r.a.createElement("div",null,r.a.createElement(oe.a,null))),r.a.createElement(te.a,{"aria-label":"Love this",onClick:function(){return e.submitVote(e.props.id,"downVote")}},r.a.createElement("div",null,r.a.createElement(ae.a,null))))),this.state.showEditor&&r.a.createElement("form",{onSubmit:this.handleEditSubmit,className:t.root},r.a.createElement("div",{style:{width:270,float:"left",marginRight:0}},r.a.createElement(nt.a,{id:"comment-author",label:"Author",name:"commentAuthor",className:t.textField,value:this.state.commentAuthor,onChange:this.handleInputChange,margin:"normal",variant:"outlined",required:"required"}),r.a.createElement(nt.a,{id:"comment-content",label:"Content",name:"commentContent",className:t.textField,value:this.state.commentContent,onChange:this.handleInputChange,margin:"normal",variant:"outlined",required:"required",multiline:!0,rowsMax:"4",fullWidth:!0}),r.a.createElement("div",{className:t.selectAlign},r.a.createElement(Ce.a,{variant:"contained",type:"submit",className:t.button},"Save Comment")),r.a.createElement("br",null)))))),r.a.createElement("br",null))}}]),t}(a.Component),rt=b()(Object(q.withStyles)({card:{minWidth:275},bullet:{display:"inline-block",margin:"0 2px",transform:"scale(0.8)"},title:{fontSize:14},pos:{marginBottom:12}}),Object(p.connect)())(at),ot=n(148),it=n.n(ot),lt=n(95),ct=n.n(lt),st=n(63),ut=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={commentAuthor:"",commentContent:"",postEditorVisible:!1,postTitle:"",postAuthor:"",postCategory:"",postContent:"",postId:"",openDialogConfirmDelete:!1},n.submitVote=function(e,t){n.props.dispatch(x(e,t))},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(He.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t={id:st(),timestamp:Date.now(),body:n.state.commentContent,author:n.state.commentAuthor,parentId:n.props.match.params.post_id,voteScore:0,deleted:!1,parentDeleted:!1};n.props.dispatch(et(t)),n.setState({commentContent:"",commentAuthor:""})},n.handlePostSubmit=function(e){e.preventDefault();var t={id:n.props.post[n.props.match.params.post_id].id,timestamp:n.props.post[n.props.match.params.post_id].timestamp,title:n.state.postTitle,body:n.state.postContent,author:n.state.postAuthor,category:n.state.postCategory,voteScore:n.props.post[n.props.match.params.post_id].voteScore,deleted:n.props.post[n.props.match.params.post_id].deleted};n.props.dispatch(I(t,t.id))},n.deletePost=function(e){n.props.dispatch(_(e)),n.props.history.push("/")},n.handleClickOpenConfirmation=function(){n.setState({openDialogConfirmDelete:!0})},n.handleCloseConfirmationDelete=function(e){"Yes"===e.target.textContent&&n.deletePost(n.state.postId),n.setState({openDialogConfirmDelete:!1})},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.props.fetchData(this.props.match.params.post_id,"BY_SCORE_HIGHEST").then(function(){return e.props.location.state&&e.props.location.state.postEditorVisible&&e.showPostEditor()})}},{key:"showPostEditor",value:function(){this.setState({postTitle:this.props.post[this.props.match.params.post_id].title,postAuthor:this.props.post[this.props.match.params.post_id].author,postCategory:this.props.post[this.props.match.params.post_id].category,postContent:this.props.post[this.props.match.params.post_id].body,postEditorVisible:!0,postId:this.props.match.params.post_id})}},{key:"render",value:function(){var e=this,t=this.props.classes;return"undefined"!==Object.keys(this.props.post)[0]&&void 0!==Object.keys(this.props.post)||Object.keys(this.props.post).length>1?r.a.createElement("div",{style:{marginBottom:"1000px"}},this.props.post&&Object.keys(this.props.post).map(function(n){return n===e.props.match.params.post_id&&!e.props.post[n].deleted&&r.a.createElement("div",{key:n},r.a.createElement(E.a,{variant:"h5",gutterBottom:!0},e.props.post[n].title,r.a.createElement("br",null)," ",r.a.createElement(ct.a,{container:!0,spacing:24},r.a.createElement(ct.a,{item:!0,xs:1,style:{float:"right"}},e.props.post[n].voteScore," "),r.a.createElement("div",{onClick:function(){return e.submitVote(n,"upVote")}},r.a.createElement(te.a,{"aria-label":"Love this"},r.a.createElement(oe.a,null))),r.a.createElement("div",{onClick:function(){return e.submitVote(n,"downVote")}},r.a.createElement(te.a,{"aria-label":"Hate this"},r.a.createElement(ae.a,null))),r.a.createElement("div",{onClick:function(){return e.handleClickOpenConfirmation(e.state.postId)},style:{marginLeft:0}},r.a.createElement(te.a,{"aria-label":"Delete"},r.a.createElement(le.a,null))))),r.a.createElement(it.a,{variant:"middle"}),e.state.postEditorVisible&&r.a.createElement("div",{style:{width:"20%",float:"left"}},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0}),r.a.createElement("form",{onSubmit:e.handlePostSubmit,className:t.root},r.a.createElement(nt.a,{id:"post-title",label:"Title",name:"postTitle",className:t.textField,value:e.state.postTitle,onChange:e.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement(nt.a,{id:"post-author",label:"Author",name:"postAuthor",className:t.textField,value:e.state.postAuthor,onChange:e.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement(nt.a,{id:"post-content",label:"Content",name:"postContent",multiline:!0,rowsMax:"4",className:t.textField,value:e.state.postContent,onChange:e.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement("br",null),r.a.createElement("div",{className:t.selectAlign},r.a.createElement(Ce.a,{variant:"contained",type:"submit",className:t.button},"Save")))),r.a.createElement("div",{style:{width:"400",float:"left",marginLeft:50}},r.a.createElement("h2",null,"Comments (",e.props.comments&&Object.values(e.props.comments).filter(function(e){return!e.deleted}).filter(function(t){return t.parentId===e.state.postId}).length,")"),e.props.comments&&Object.values(e.props.comments).filter(function(e){return!e.deleted}).filter(function(t){return t.parentId===e.state.postId}).sort(function(t,n){switch(e.props.sortCommentsBy){case"BY_SCORE_LOWEST":return t.voteScore-n.voteScore;case"BY_DATE_OLDEST":return t.timestamp-n.timestamp;case"BY_DATE_NEWEST":return n.timestamp-t.timestamp;default:return n.voteScore-t.voteScore}}).map(function(e){return r.a.createElement(rt,{key:e.id,id:e.id,timestamp:e.timestamp,body:e.body,author:e.author,parentId:e.parentId,voteScore:e.voteScore,deleted:e.deleted,parentDeleted:e.parentDeleted})}),r.a.createElement("div",{style:{width:"30%"}},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"New comment"),r.a.createElement("form",{id:"newcomment-form",onSubmit:e.handleSubmit,className:t.root},r.a.createElement(nt.a,{id:"comment-author",label:"Author",name:"commentAuthor",className:t.textField,value:e.state.commentAuthor,onChange:e.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement(nt.a,{id:"comment-content",label:"Content",name:"commentContent",className:t.textField,value:e.state.commentContent,onChange:e.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement("div",{className:t.selectAlign},r.a.createElement(Ce.a,{variant:"contained",type:"submit",className:t.button},"Save")))),r.a.createElement("br",null)))}),r.a.createElement(fe.a,{open:this.state.openDialogConfirmDelete,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(be.a,{id:"alert-dialog-title"},"Delete this post?"),r.a.createElement(ge.a,null,r.a.createElement(Ce.a,{id:"delete-no",onClick:this.handleCloseConfirmationDelete,color:"primary"},"No"),r.a.createElement(Ce.a,{id:"delete-yes",onClick:this.handleCloseConfirmationDelete,color:"primary",autoFocus:!0},"Yes")))):r.a.createElement(g,null)}}]),t}(a.Component),mt=b()(Object(q.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200},selectAlign:{marginLeft:10}}}),Object(p.connect)(function(e){return{post:e.postsById,comments:e.receiveComments,sortCommentsBy:e.setCommentSorting?e.setCommentSorting.sort:""}},function(e){return{dispatch:e,fetchData:function(t,n){return e(A(t)).then(function(){return e(function(e){return function(t){return y(e).then(function(e){return t(Xe(e,Je))})}}(t))}).then(function(){return e({type:Qe,sortCommentsBy:n})})}}}))(ut),pt=n(91),ht=n.n(pt),dt=n(93),ft=n.n(dt),Et=n(92),gt=n.n(Et),vt=n(63),bt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={postTitle:"",postAuthor:"",postCategory:"react",postContent:""},n.handleInputChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(He.a)({},r,a))},n.handleSubmit=function(e){e.preventDefault();var t={id:vt(),timestamp:Date.now(),title:n.state.postTitle,body:n.state.postContent,author:n.state.postAuthor,category:n.state.postCategory,voteScore:0,deleted:!1};n.props.dispatch(B(t)),n.props.history.push("/")},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.classes;return r.a.createElement("div",{style:{width:"15%",height:"100%",float:"left",position:"fixed"}},r.a.createElement(gt.a,{className:e.formControl},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0},"Compose new Post"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:e.root},r.a.createElement(nt.a,{id:"post-title",label:"Title",name:"postTitle",className:e.textField,value:this.state.postTitle,onChange:this.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement(nt.a,{id:"post-author",label:"Author",name:"postAuthor",className:e.textField,value:this.state.postAuthor,onChange:this.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement("div",{className:e.selectAlign},r.a.createElement(ht.a,{htmlFor:"post-category"}),r.a.createElement(ft.a,{name:"postCategory",id:"post-category",value:this.state.postCategory,onChange:this.handleInputChange,required:!0},r.a.createElement(we.a,{value:"react"},"React"),r.a.createElement(we.a,{value:"redux"},"Redux"),r.a.createElement(we.a,{value:"udacity"},"Udacity"))),r.a.createElement(nt.a,{id:"post-content",label:"Content",name:"postContent",multiline:!0,rowsMax:"4",className:e.textField,value:this.state.postContent,onChange:this.handleInputChange,margin:"normal",variant:"outlined",required:!0}),r.a.createElement("br",null),r.a.createElement("div",{className:e.selectAlign},r.a.createElement(Ce.a,{variant:"contained",type:"submit",className:e.button},"Post")))))}}]),t}(a.Component),yt=b()(Object(q.withStyles)(function(e){return{root:{display:"flex",flexWrap:"wrap"},formControl:{margin:e.spacing.unit,minWidth:120},selectEmpty:{marginTop:2*e.spacing.unit},container:{display:"flex",flexWrap:"wrap"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit},dense:{marginTop:16},menu:{width:200},selectAlign:{marginLeft:10}}}),Object(p.connect)())(bt),Ct=n(96),Ot={title:"Posts",pieHole:1.9,slices:[{color:"#2BB673"},{color:"#d91e48"},{color:"#007fad"},{color:"#e9a227"}],legend:{position:"bottom",alignment:"center",textStyle:{color:"233238",fontSize:14}},tooltip:{showColorCode:!0},chartArea:{left:0,top:10,width:"100%",height:"75%"},fontName:"Roboto"},jt=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={chartImageURI:"",arrayChartPosts:[]},n}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){this.props.fetchData(),this.props.fetchDataPosts("BY_SCORE_HIGHEST")}},{key:"render",value:function(){var e=this,t=[["Category","Posts"]];null!==this.props.categories&&Object.values(this.props.posts).length>0&&this.props.categories.map(function(n){return t.push([n.name,Object.values(e.props.posts).filter(function(e){return!e.deleted}).filter(function(e){return e.category===n.name}).length])});var n=[["Category","Comments"]];if(null!==this.props.categories&&Object.values(this.props.posts).length>0){var a=0;this.props.categories.map(function(e){return n.push([e.name,0])}),Object.values(this.props.categories).forEach(function(t){Object.values(e.props.posts).filter(function(e){return!e.deleted}).filter(function(e){return e.category===t.name}).forEach(function(e){a+=e.commentCount}),n.push([t.name,a]),a=0})}return r.a.createElement("div",{style:{width:"100%",height:"100%",float:"left"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"b1-trends"}),r.a.createElement("div",{className:"b2-trends"},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0,className:"chartBoxTitle"},"Posts Trends for you"),r.a.createElement(Ct.a,{chartType:"PieChart",data:t,options:Ot,graph_id:"PieChart1",width:"100%",height:"350px",legend_toggle:!0,className:"chartBox"})),r.a.createElement("div",{className:"b1-trends"}),r.a.createElement("div",{className:"b2-trends"},r.a.createElement(E.a,{variant:"h6",gutterBottom:!0,className:"chartBoxTitle"},"Comments Trends for you"),r.a.createElement("div",{className:"b2-trends-chart2"},r.a.createElement(Ct.a,{chartType:"PieChart",data:n,options:Ot,graph_id:"PieChart2",width:"100%",height:"350px",legend_toggle:!0})))))}}]),t}(a.Component),St=b()(Object(q.withStyles)(function(e){return{}}),Object(p.connect)(function(e){return{categories:e.receiveCategories,posts:e.postsById}},function(e){return{dispatch:e,fetchData:function(){return e(M())},fetchDataPosts:function(t){return e(k()).then(function(){return e(V(t))})}}}))(jt),wt=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement(qe,null),r.a.createElement(d.c,null,r.a.createElement(d.a,{path:"/",exact:!0,component:Be}),r.a.createElement(d.a,{path:"/Home",exact:!0,component:Be}),r.a.createElement(d.a,{path:"/create-post",exact:!0,component:yt}),r.a.createElement(d.a,{path:"/:category/:post_id",exact:!0,component:mt}),r.a.createElement(d.a,{path:"/trending-now",exact:!0,component:St}),r.a.createElement(d.a,{path:"/:category",exact:!0,component:Be}),r.a.createElement(d.a,{component:g}))),r.a.createElement(ze,null)))}}]),t}(a.Component),Tt=Object(p.connect)(null,null)(wt),Nt=n(40),Dt=n(150);var At=n(36);function kt(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.id]=a}return t}function xt(e){for(var t={},n=0;n<e.length;n++){var a=e[n];t[a.id]=a}return t}var _t=Object(Nt.c)({receiveCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return t.categories;default:return e}},receiveComments:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Je:return Object(At.a)({},e,kt(t.comments));case Ge:case Ue:case Ke:return Object(At.a)({},e,kt([t.comments]));default:return e}},setSorting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P:return Object(At.a)({},e,{sort:t.sortBy});default:return e}},postsById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:case N:return Object(At.a)({},e,xt(t.posts));case j:case S:case C:case w:case T:return Object(At.a)({},e,xt([t.posts]));default:return e}},setCommentSorting:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(At.a)({},e,{sort:t.sortCommentsBy});default:return e}},loadingBar:Dt.loadingBarReducer}),Bt=n(151),It=Object(Nt.a)(Bt.a),Pt=Object(Nt.d)(_t,It);i.a.render(r.a.createElement(p.Provider,{store:Pt},r.a.createElement(Tt,null)),document.getElementById("root"))},99:function(e,t,n){}},[[152,1,2]]]);
//# sourceMappingURL=main.de8c62f3.chunk.js.map